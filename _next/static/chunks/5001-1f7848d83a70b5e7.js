"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5001],{2894:function(e,t,n){n.d(t,{R:function(){return s},m:function(){return i}});var r=n(18238),a=n(7989),o=n(11255),i=class extends a.F{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||s(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||("pending"===this.state.status?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#a({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=(0,o.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#a({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});let r="pending"===this.state.status,a=!this.#r.canStart();try{if(r)t();else{this.#a({type:"pending",variables:e,isPaused:a}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);let t=await this.options.onMutate?.(e,n);t!==this.state.context&&this.#a({type:"pending",context:t,variables:e,isPaused:a})}let o=await this.#r.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#a({type:"success",data:o}),o}catch(t){try{await this.#n.config.onError?.(t,e,this.state.context,this,n)}catch(e){Promise.reject(e)}try{await this.options.onError?.(t,e,this.state.context,n)}catch(e){Promise.reject(e)}try{await this.#n.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,n)}catch(e){Promise.reject(e)}try{await this.options.onSettled?.(void 0,t,e,this.state.context,n)}catch(e){Promise.reject(e)}throw this.#a({type:"error",error:t}),t}finally{this.#n.runNext(this)}}#a(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),r.Vr.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function s(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},13102:function(e,t,n){n.d(t,{$S:function(){return c},JK:function(){return i},X4:function(){return a},XZ:function(){return s},aH:function(){return o}});var r=n(26129);class a extends r.G{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class o extends r.G{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class i extends r.G{constructor({address:e,connector:t}){super(`Account "${e}" not found for connector "${t.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class s extends r.G{constructor({connectionChainId:e,connectorChainId:t}){super(`The current chain of the connector (id: ${t}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class c extends r.G{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:"During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`. All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored. This error commonly occurs for connectors that asynchronously inject after reconnection has already started."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}},32449:function(e,t,n){n.d(t,{y:function(){return o}});var r=n(31669),a=n(13169);function o(e){let t=(0,a.w)(`0x${e.substring(4)}`).substring(26);return(0,r.x)(`0x${t}`)}},6458:function(e,t,n){n.d(t,{C:function(){return u},X:function(){return c}});var r=n(4496),a=n(82645),o=n(96174),i=n(74587),s=n(25283);async function c(e,t){return u(e,t)}async function u(e,t){let{block:n,chain:c=e.chain,request:u,type:l="eip1559"}=t||{},d=await (async()=>"function"==typeof c?.fees?.baseFeeMultiplier?c.fees.baseFeeMultiplier({block:n,client:e,request:u}):c?.fees?.baseFeeMultiplier??1.2)();if(d<1)throw new r.Fz;let f=10**(d.toString().split(".")[1]?.length??0),h=e=>e*BigInt(Math.ceil(d*f))/BigInt(f),p=n||await (0,a.s)(e,i.Q,"getBlock")({});if("function"==typeof c?.fees?.estimateFeesPerGas){let t=await c.fees.estimateFeesPerGas({block:n,client:e,multiply:h,request:u,type:l});if(null!==t)return t}if("eip1559"===l){if("bigint"!=typeof p.baseFeePerGas)throw new r.e5;let t="bigint"==typeof u?.maxPriorityFeePerGas?u.maxPriorityFeePerGas:await (0,o.h)(e,{block:p,chain:c,request:u}),n=h(p.baseFeePerGas);return{maxFeePerGas:u?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:u?.gasPrice??h(await (0,a.s)(e,s.o,"getGasPrice")({}))}}},8741:function(e,t,n){n.d(t,{Q:function(){return b}});var r=n(19775),a=n(81544),o=n(63936),i=n(59455),s=n(71282),c=n(29707),u=n(63228);class l extends a.G{constructor(e,{account:t,docsPath:n,chain:r,data:a,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:h,value:p}){super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,u.xr)({from:t?.address,to:h,value:void 0!==p&&`${(0,s.d)(p)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:o,gasPrice:void 0!==i&&`${(0,c.o)(i)} gwei`,maxFeePerGas:void 0!==l&&`${(0,c.o)(l)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,c.o)(d)} gwei`,nonce:f})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var d=n(78125),f=n(18856),h=n(70878),p=n(92614),m=n(77911),w=n(54605),y=n(34467);async function b(e,t){let{account:n=e.account,prepare:s=!0}=t,c=n?(0,r.T)(n):void 0,u=Array.isArray(s)?s:c?.type!=="local"?["blobVersionedHashes"]:void 0;try{let n=await (async()=>t.to?t.to:t.authorizationList&&t.authorizationList.length>0?await (0,o.z)({authorization:t.authorizationList[0]}).catch(()=>{throw new a.G("`to` is required. Could not infer from `authorizationList`")}):void 0)(),{accessList:r,authorizationList:l,blobs:d,blobVersionedHashes:f,blockNumber:b,blockTag:g,data:v,gas:P,gasPrice:x,maxFeePerBlobGas:F,maxFeePerGas:T,maxPriorityFeePerGas:G,nonce:C,value:k,stateOverride:N,...B}=s?await (0,y.ZE)(e,{...t,parameters:u,to:n}):t;if(P&&t.gas!==P)return P;let E=("bigint"==typeof b?(0,i.eC)(b):void 0)||g,R=(0,m.mF)(N);(0,w.F)(t);let I=e.chain?.formatters?.transactionRequest?.format,M=(I||p.tG)({...(0,h.K)(B,{format:I}),account:c,accessList:r,authorizationList:l,blobs:d,blobVersionedHashes:f,data:v,gasPrice:x,maxFeePerBlobGas:F,maxFeePerGas:T,maxPriorityFeePerGas:G,nonce:C,to:n,value:k},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:R?[M,E??e.experimental_blockTag??"latest",R]:E?[M,E]:[M]}))}catch(n){throw function(e,{docsPath:t,...n}){return new l((()=>{let t=(0,f.k)(e,n);return t instanceof d.cj?e:t})(),{docsPath:t,...n})}(n,{...t,account:c,chain:e.chain})}}},96174:function(e,t,n){n.d(t,{_:function(){return c},h:function(){return u}});var r=n(4496),a=n(72932),o=n(82645),i=n(74587),s=n(25283);async function c(e,t){return u(e,t)}async function u(e,t){let{block:n,chain:c=e.chain,request:u}=t||{};try{let t=c?.fees?.maxPriorityFeePerGas??c?.fees?.defaultPriorityFee;if("function"==typeof t){let r=n||await (0,o.s)(e,i.Q,"getBlock")({}),a=await t({block:r,client:e,request:u});if(null===a)throw Error();return a}if(void 0!==t)return t;let r=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,a.y_)(r)}catch{let[t,a]=await Promise.all([n?Promise.resolve(n):(0,o.s)(e,i.Q,"getBlock")({}),(0,o.s)(e,s.o,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new r.e5;let c=a-t.baseFeePerGas;if(c<0n)return 0n;return c}}},332:function(e,t,n){n.d(t,{b:function(){return h}});var r=n(19775),a=n(4496),o=n(93606),i=n(70878),s=n(27481),c=n(92614),u=n(82645),l=n(54605),d=n(74587),f=n(12363);async function h(e,t){let{account:n=e.account,accessList:h,authorizationList:p,chain:m=e.chain,blobVersionedHashes:w,blobs:y,data:b,gas:g,gasPrice:v,maxFeePerBlobGas:P,maxFeePerGas:x,maxPriorityFeePerGas:F,nonce:T,nonceManager:G,to:C,type:k,value:N,...B}=t,E=await (async()=>{if(!n||!G||void 0!==T)return T;let t=(0,r.T)(n),a=m?m.id:await (0,u.s)(e,f.L,"getChainId")({});return await G.consume({address:t.address,chainId:a,client:e})})();(0,l.F)(t);let R=m?.formatters?.transactionRequest?.format,I=(R||c.tG)({...(0,i.K)(B,{format:R}),account:n?(0,r.T)(n):void 0,accessList:h,authorizationList:p,blobs:y,blobVersionedHashes:w,data:b,gas:g,gasPrice:v,maxFeePerBlobGas:P,maxFeePerGas:x,maxPriorityFeePerGas:F,nonce:E,to:C,type:k,value:N},"fillTransaction");try{let n=await e.request({method:"eth_fillTransaction",params:[I]}),r=(m?.formatters?.transaction?.format||s.Tr)(n.tx);delete r.blockHash,delete r.blockNumber,delete r.r,delete r.s,delete r.transactionIndex,delete r.v,delete r.yParity,r.data=r.input,r.gas&&(r.gas=t.gas??r.gas),r.gasPrice&&(r.gasPrice=t.gasPrice??r.gasPrice),r.maxFeePerBlobGas&&(r.maxFeePerBlobGas=t.maxFeePerBlobGas??r.maxFeePerBlobGas),r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas??r.maxFeePerGas),r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas??r.maxPriorityFeePerGas),r.nonce&&(r.nonce=t.nonce??r.nonce);let o=await (async()=>{if("function"==typeof m?.fees?.baseFeeMultiplier){let n=await (0,u.s)(e,d.Q,"getBlock")({});return m.fees.baseFeeMultiplier({block:n,client:e,request:t})}return m?.fees?.baseFeeMultiplier??1.2})();if(o<1)throw new a.Fz;let i=o.toString().split(".")[1]?.length??0,c=10**i,l=e=>e*BigInt(Math.ceil(o*c))/BigInt(c);return r.maxFeePerGas&&!t.maxFeePerGas&&(r.maxFeePerGas=l(r.maxFeePerGas)),r.gasPrice&&!t.gasPrice&&(r.gasPrice=l(r.gasPrice)),{raw:n.raw,transaction:{from:I.from,...r}}}catch(n){throw(0,o.$)(n,{...t,chain:e.chain})}}},74587:function(e,t,n){n.d(t,{Q:function(){return i}});var r=n(12197),a=n(59455),o=n(59069);async function i(e,{blockHash:t,blockNumber:n,blockTag:i=e.experimental_blockTag??"latest",includeTransactions:s}={}){let c=s??!1,u=void 0!==n?(0,a.eC)(n):void 0,l=null;if(!(l=t?await e.request({method:"eth_getBlockByHash",params:[t,c]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[u||i,c]},{dedupe:!!u})))throw new r.f({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||o.Z)(l,"getBlock")}},13708:function(e,t,n){n.d(t,{z:function(){return s}});let r=new Map,a=new Map;async function o(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){let o=function(e){let t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,r),o=t(e,a);return{clear:()=>{n.clear(),o.clear()},promise:n,response:o}}(t),i=o.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=o.promise.get();s||(s=e(),o.promise.set(s));try{let e=await s;return o.response.set({created:new Date,data:e}),e}finally{o.promise.clear()}}let i=e=>`blockNumber.${e}`;async function s(e,{cacheTime:t=e.cacheTime}={}){return BigInt(await o(()=>e.request({method:"eth_blockNumber"}),{cacheKey:i(e.uid),cacheTime:t}))}},12363:function(e,t,n){n.d(t,{L:function(){return a}});var r=n(72932);async function a(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,r.ly)(t)}},25283:function(e,t,n){n.d(t,{o:function(){return r}});async function r(e){return BigInt(await e.request({method:"eth_gasPrice"}))}},39277:function(e,t,n){n.d(t,{f:function(){return i}});var r=n(63228),a=n(59455),o=n(27481);async function i(e,{blockHash:t,blockNumber:n,blockTag:i,hash:s,index:c,sender:u,nonce:l}){let d=i||"latest",f=void 0!==n?(0,a.eC)(n):void 0,h=null;if(s?h=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?h=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,a.eC)(c)]},{dedupe:!0}):(f||d)&&"number"==typeof c?h=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[f||d,(0,a.eC)(c)]},{dedupe:!!f}):u&&"number"==typeof l&&(h=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[u,(0,a.eC)(l)]},{dedupe:!0})),!h)throw new r.Bh({blockHash:t,blockNumber:n,blockTag:d,hash:s,index:c});return(e.chain?.formatters?.transaction?.format||o.Tr)(h,"getTransaction")}},16689:function(e,t,n){n.d(t,{K:function(){return o}});var r=n(72932),a=n(59455);async function o(e,{address:t,blockTag:n="latest",blockNumber:o}){let i=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof o?(0,a.eC)(o):n]},{dedupe:!!o});return(0,r.ly)(i)}},78526:function(e,t,n){n.d(t,{a:function(){return o}});var r=n(63228),a=n(13550);async function o(e,{hash:t}){let n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new r.Yb({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||a.fA)(n,"getTransactionReceipt")}},67348:function(e,t,n){n.d(t,{e:function(){return p}});var r=n(12197),a=n(63228),o=n(82645),i=n(36478),s=n(56921),c=n(49287),u=n(31853),l=n(74587),d=n(39277),f=n(78526),h=n(2228);async function p(e,t){let n,p,m,w,y;let{checkReplacement:b=!0,confirmations:g=1,hash:v,onReplaced:P,retryCount:x=6,retryDelay:F=({count:e})=>200*~~(1<<e),timeout:T=18e4}=t,G=(0,u.P)(["waitForTransactionReceipt",e.uid,v]),C=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval,k=!1,{promise:N,resolve:B,reject:E}=(0,s.n)(),R=T?setTimeout(()=>{y?.(),w?.(),E(new a.mc({hash:v}))},T):void 0;return w=(0,i.N7)(G,{onReplaced:P,resolve:B,reject:E},async t=>{if((m=await (0,o.s)(e,f.a,"getTransactionReceipt")({hash:v}).catch(()=>void 0))&&g<=1){clearTimeout(R),t.resolve(m),w?.();return}y=(0,o.s)(e,h.q,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:C,async onBlockNumber(i){let s=e=>{clearTimeout(R),y?.(),e(),w?.()},u=i;if(!k)try{if(m){if(g>1&&(!m.blockNumber||u-m.blockNumber+1n<g))return;s(()=>t.resolve(m));return}if(b&&!n&&(k=!0,await (0,c.J)(async()=>{(n=await (0,o.s)(e,d.f,"getTransaction")({hash:v})).blockNumber&&(u=n.blockNumber)},{delay:F,retryCount:x}),k=!1),m=await (0,o.s)(e,f.a,"getTransactionReceipt")({hash:v}),g>1&&(!m.blockNumber||u-m.blockNumber+1n<g))return;s(()=>t.resolve(m))}catch(i){if(i instanceof a.Bh||i instanceof a.Yb){if(!n){k=!1;return}try{p=n,k=!0;let a=await (0,c.J)(()=>(0,o.s)(e,l.Q,"getBlock")({blockNumber:u,includeTransactions:!0}),{delay:F,retryCount:x,shouldRetry:({error:e})=>e instanceof r.f});k=!1;let i=a.transactions.find(({from:e,nonce:t})=>e===p.from&&t===p.nonce);if(!i||(m=await (0,o.s)(e,f.a,"getTransactionReceipt")({hash:i.hash}),g>1&&(!m.blockNumber||u-m.blockNumber+1n<g)))return;let d="replaced";i.to===p.to&&i.value===p.value&&i.input===p.input?d="repriced":i.from===i.to&&0n===i.value&&(d="cancelled"),s(()=>{t.onReplaced?.({reason:d,replacedTransaction:p,transaction:i,transactionReceipt:m}),t.resolve(m)})}catch(e){s(()=>t.reject(e))}}else s(()=>t.reject(i))}}})}),N}},2228:function(e,t,n){n.d(t,{q:function(){return u}});var r=n(72932),a=n(82645),o=n(36478),i=n(41495),s=n(31853),c=n(13708);function u(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:u,onError:l,poll:d,pollingInterval:f=e.pollingInterval}){let h;return(void 0!==d?d:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{let r=(0,s.P)(["watchBlockNumber",e.uid,t,n,f]);return(0,o.N7)(r,{onBlockNumber:u,onError:l},r=>(0,i.$)(async()=>{try{let t=await (0,a.s)(e,c.z,"getBlockNumber")({cacheTime:0});if(void 0!==h){if(t===h)return;if(t-h>1&&n)for(let e=h+1n;e<t;e++)r.onBlockNumber(e,h),h=e}(void 0===h||t>h)&&(r.onBlockNumber(t,h),h=t)}catch(e){r.onError?.(e)}},{emitOnBegin:t,interval:f}))})():(()=>{let a=(0,s.P)(["watchBlockNumber",e.uid,t,n]);return(0,o.N7)(a,{onBlockNumber:u,onError:l},t=>{let n=!0,a=()=>n=!1;return(async()=>{try{let o=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:i}=await o.subscribe({params:["newHeads"],onData(e){if(!n)return;let a=(0,r.y_)(e.result?.number);t.onBlockNumber(a,h),h=a},onError(e){t.onError?.(e)}});a=i,n||a()}catch(e){l?.(e)}})(),()=>a()})})()}},34467:function(e,t,n){n.d(t,{QZ:function(){return g},ZE:function(){return x}});var r=n(19775),a=n(6458),o=n(8741),i=n(74587),s=n(16689),c=n(4496),u=n(63563),l=n(67496),d=n(58438),f=n(10932),h=n(82645),p=n(82061),m=n(54605),w=n(90683),y=n(332),b=n(12363);let g=["blobVersionedHashes","chainId","fees","gas","nonce","type"],v=new Map,P=new p.k(128);async function x(e,t){let n,p,x=t;x.account??=e.account,x.parameters??=g;let{account:F,chain:T=e.chain,nonceManager:G,parameters:C}=x,k="function"==typeof T?.prepareTransactionRequest?{fn:T.prepareTransactionRequest,runAt:["beforeFillTransaction"]}:Array.isArray(T?.prepareTransactionRequest)?{fn:T.prepareTransactionRequest[0],runAt:T.prepareTransactionRequest[1].runAt}:void 0;async function N(){return n||(void 0!==x.chainId?x.chainId:T?T.id:n=await (0,h.s)(e,b.L,"getChainId")({}))}let B=F?(0,r.T)(F):F,E=x.nonce;if(C.includes("nonce")&&void 0===E&&B&&G){let t=await N();E=await G.consume({address:B.address,chainId:t,client:e})}k?.fn&&k.runAt?.includes("beforeFillTransaction")&&(x=await k.fn({...x,chain:T},{phase:"beforeFillTransaction"}),E??=x.nonce);let R=(!(C.includes("blobVersionedHashes")||C.includes("sidecars"))||!x.kzg||!x.blobs)&&!1!==P.get(e.uid)&&["fees","gas"].some(e=>C.includes(e))&&(C.includes("chainId")&&"number"!=typeof x.chainId||C.includes("nonce")&&"number"!=typeof E||C.includes("fees")&&"bigint"!=typeof x.gasPrice&&("bigint"!=typeof x.maxFeePerGas||"bigint"!=typeof x.maxPriorityFeePerGas)||C.includes("gas")&&"bigint"!=typeof x.gas)?await (0,h.s)(e,y.b,"fillTransaction")({...x,nonce:E}).then(t=>{let{chainId:n,from:r,gas:a,gasPrice:o,nonce:i,maxFeePerBlobGas:s,maxFeePerGas:c,maxPriorityFeePerGas:u,type:l,...d}=t.transaction;return P.set(e.uid,!0),{...x,...r?{from:r}:{},...l?{type:l}:{},...void 0!==n?{chainId:n}:{},...void 0!==a?{gas:a}:{},...void 0!==o?{gasPrice:o}:{},...void 0!==i?{nonce:i}:{},...void 0!==s?{maxFeePerBlobGas:s}:{},...void 0!==c?{maxFeePerGas:c}:{},...void 0!==u?{maxPriorityFeePerGas:u}:{},..."nonceKey"in d&&void 0!==d.nonceKey?{nonceKey:d.nonceKey}:{}}}).catch(t=>("TransactionExecutionError"!==t.name||t.walk?.(e=>"MethodNotFoundRpcError"===e.name||"MethodNotSupportedRpcError"===e.name)&&P.set(e.uid,!1),x)):x;E??=R.nonce;let{blobs:I,gas:M,kzg:q,type:S}=x={...R,...B?{from:B?.address}:{},...E?{nonce:E}:{}};async function _(){return p||(p=await (0,h.s)(e,i.Q,"getBlock")({blockTag:"latest"}))}if(k?.fn&&k.runAt?.includes("beforeFillParameters")&&(x=await k.fn({...x,chain:T},{phase:"beforeFillParameters"})),C.includes("nonce")&&void 0===E&&B&&!G&&(x.nonce=await (0,h.s)(e,s.K,"getTransactionCount")({address:B.address,blockTag:"pending"})),(C.includes("blobVersionedHashes")||C.includes("sidecars"))&&I&&q){let e=(0,u.P)({blobs:I,kzg:q});if(C.includes("blobVersionedHashes")){let t=(0,d.C)({commitments:e,to:"hex"});x.blobVersionedHashes=t}if(C.includes("sidecars")){let t=(0,l.y)({blobs:I,commitments:e,kzg:q}),n=(0,f.j)({blobs:I,commitments:e,proofs:t,to:"hex"});x.sidecars=n}}if(C.includes("chainId")&&(x.chainId=await N()),(C.includes("fees")||C.includes("type"))&&void 0===S)try{x.type=(0,w.l)(x)}catch{let t=v.get(e.uid);if(void 0===t){let n=await _();t="bigint"==typeof n?.baseFeePerGas,v.set(e.uid,t)}x.type=t?"eip1559":"legacy"}if(C.includes("fees")){if("legacy"!==x.type&&"eip2930"!==x.type){if(void 0===x.maxFeePerGas||void 0===x.maxPriorityFeePerGas){let t=await _(),{maxFeePerGas:n,maxPriorityFeePerGas:r}=await (0,a.C)(e,{block:t,chain:T,request:x});if(void 0===x.maxPriorityFeePerGas&&x.maxFeePerGas&&x.maxFeePerGas<r)throw new c.ld({maxPriorityFeePerGas:r});x.maxPriorityFeePerGas=r,x.maxFeePerGas=n}}else{if(void 0!==x.maxFeePerGas||void 0!==x.maxPriorityFeePerGas)throw new c.e5;if(void 0===x.gasPrice){let t=await _(),{gasPrice:n}=await (0,a.C)(e,{block:t,chain:T,request:x,type:"legacy"});x.gasPrice=n}}}return C.includes("gas")&&void 0===M&&(x.gas=await (0,h.s)(e,o.Q,"estimateGas")({...x,account:B,prepare:B?.type==="local"?[]:["blobVersionedHashes"]})),k?.fn&&k.runAt?.includes("afterFillParameters")&&(x=await k.fn({...x,chain:T},{phase:"afterFillParameters"})),(0,m.F)(x),delete x.parameters,x}},9769:function(e,t,n){n.d(t,{p:function(){return r}});async function r(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}},41709:function(e,t,n){n.d(t,{T:function(){return g}});var r=n(19775),a=n(65704),o=n(81544),i=n(63936),s=n(40402),c=n(89256),u=n(93606),l=n(70878),d=n(92614),f=n(82645),h=n(82061),p=n(54605),m=n(12363),w=n(34467),y=n(9769);let b=new h.k(128);async function g(e,t){let{account:n=e.account,assertChainId:h=!0,chain:g=e.chain,accessList:v,authorizationList:P,blobs:x,data:F,dataSuffix:T="string"==typeof e.dataSuffix?e.dataSuffix:e.dataSuffix?.value,gas:G,gasPrice:C,maxFeePerBlobGas:k,maxFeePerGas:N,maxPriorityFeePerGas:B,nonce:E,type:R,value:I,...M}=t;if(void 0===n)throw new a.o({docsPath:"/docs/actions/wallet/sendTransaction"});let q=n?(0,r.T)(n):null;try{(0,p.F)(t);let n=await (async()=>t.to?t.to:null!==t.to&&P&&P.length>0?await (0,i.z)({authorization:P[0]}).catch(()=>{throw new o.G("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(q?.type==="json-rpc"||null===q){let t;null!==g&&(t=await (0,f.s)(e,m.L,"getChainId")({}),h&&(0,s.q)({currentChainId:t,chain:g}));let r=e.chain?.formatters?.transactionRequest?.format,a=(r||d.tG)({...(0,l.K)(M,{format:r}),accessList:v,account:q,authorizationList:P,blobs:x,chainId:t,data:F?(0,c.zo)([F,T??"0x"]):F,gas:G,gasPrice:C,maxFeePerBlobGas:k,maxFeePerGas:N,maxPriorityFeePerGas:B,nonce:E,to:n,type:R,value:I},"sendTransaction"),o=b.get(e.uid);try{return await e.request({method:o?"wallet_sendTransaction":"eth_sendTransaction",params:[a]},{retryCount:0})}catch(t){if(!1===o)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[a]},{retryCount:0}).then(t=>(b.set(e.uid,!0),t)).catch(n=>{if("MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)throw b.set(e.uid,!1),t;throw n});throw t}}if(q?.type==="local"){let t=await (0,f.s)(e,w.ZE,"prepareTransactionRequest")({account:q,accessList:v,authorizationList:P,blobs:x,chain:g,data:F?(0,c.zo)([F,T??"0x"]):F,gas:G,gasPrice:C,maxFeePerBlobGas:k,maxFeePerGas:N,maxPriorityFeePerGas:B,nonce:E,nonceManager:q.nonceManager,parameters:[...w.QZ,"sidecars"],type:R,value:I,...M,to:n}),r=g?.serializers?.transaction,a=await q.signTransaction(t,{serializer:r});return await (0,f.s)(e,y.p,"sendRawTransaction")({serializedTransaction:a})}if(q?.type==="smart")throw new a.Y({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new a.Y({docsPath:"/docs/actions/wallet/sendTransaction",type:q?.type})}catch(e){if(e instanceof a.Y)throw e;throw(0,u.$)(e,{...t,account:q,chain:t.chain||void 0})}}},50825:function(e,t,n){n.d(t,{n:function(){return u}});var r=n(19775),a=n(65704),o=n(17283),i=n(34180),s=n(82645),c=n(41709);async function u(e,t){return u.internal(e,c.T,"sendTransaction",t)}!function(e){async function t(e,t,n,c){let{abi:u,account:l=e.account,address:d,args:f,functionName:h,...p}=c;if(void 0===l)throw new a.o({docsPath:"/docs/contract/writeContract"});let m=l?(0,r.T)(l):null,w=(0,o.R)({abi:u,args:f,functionName:h});try{return await (0,s.s)(e,t,n)({data:w,to:d,account:m,...p})}catch(e){throw(0,i.S)(e,{abi:u,address:d,args:f,docsPath:"/docs/contract/writeContract",functionName:h,sender:m?.address})}}e.internal=t}(u||(u={}))},82538:function(e,t,n){n.d(t,{e:function(){return o}});var r=n(19775),a=n(78217);function o(e){let{batch:t,chain:n,ccipRead:o,dataSuffix:i,key:s="base",name:c="Base Client",type:u="base"}=e,l=e.experimental_blockTag??("number"==typeof n?.experimental_preconfirmationTime?"pending":void 0),d=n?.blockTime??12e3,f=e.pollingInterval??Math.min(Math.max(Math.floor(d/2),500),4e3),h=e.cacheTime??f,p=e.account?(0,r.T)(e.account):void 0,{config:m,request:w,value:y}=e.transport({account:p,chain:n,pollingInterval:f}),b={account:p,batch:t,cacheTime:h,ccipRead:o,chain:n,dataSuffix:i,key:s,name:c,pollingInterval:f,request:w,transport:{...m,...y},type:u,uid:(0,a.h)(),...l?{experimental_blockTag:l}:{}};return Object.assign(b,{extend:function e(t){return n=>{let r=n(t);for(let e in b)delete r[e];let a={...t,...r};return Object.assign(a,{extend:e(a)})}}(b)})}},24250:function(e,t,n){n.d(t,{q:function(){return d}});var r=n(81544),a=n(17057),o=n(77014),i=n(59455);let s=new(n(82061)).k(8192);var c=n(49287),u=n(31853),l=n(78217);function d({key:e,methods:t,name:n,request:d,retryCount:f=3,retryDelay:h=150,timeout:p,type:m},w){return{config:{key:e,methods:t,name:n,request:d,retryCount:f,retryDelay:h,timeout:p,type:m},request:function(e,t={}){return async(n,l={})=>{let{dedupe:d=!1,methods:f,retryDelay:h=150,retryCount:p=3,uid:m}={...t,...l},{method:w}=n;if(f?.exclude?.includes(w)||f?.include&&!f.include.includes(w))throw new o.gS(Error("method not supported"),{method:w});let y=d?(0,i.$G)(`${m}.${(0,u.P)(n)}`):void 0;return function(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(s.get(n))return s.get(n);let r=e().finally(()=>s.delete(n));return s.set(n,r),r}(()=>(0,c.J)(async()=>{try{return await e(n)}catch(e){switch(e.code){case o.s7.code:throw new o.s7(e);case o.B.code:throw new o.B(e);case o.LX.code:throw new o.LX(e,{method:n.method});case o.nY.code:throw new o.nY(e);case o.XS.code:throw new o.XS(e);case o.yR.code:throw new o.yR(e);case o.Og.code:throw new o.Og(e);case o.pT.code:throw new o.pT(e);case o.KB.code:throw new o.KB(e);case o.gS.code:throw new o.gS(e,{method:n.method});case o.Pv.code:throw new o.Pv(e);case o.GD.code:throw new o.GD(e);case o.ab.code:throw new o.ab(e);case o.PE.code:throw new o.PE(e);case o.Ts.code:throw new o.Ts(e);case o.u5.code:throw new o.u5(e);case o.I0.code:throw new o.I0(e);case o.x3.code:throw new o.x3(e);case o.vl.code:throw new o.vl(e);case o.Uu.code:throw new o.Uu(e);case o.Nt.code:throw new o.Nt(e);case o.EJ.code:throw new o.EJ(e);case o.fl.code:throw new o.fl(e);case o.NO.code:throw new o.NO(e);case o.r0.code:throw new o.r0(e);case 5e3:throw new o.ab(e);case o.UF.code:throw new o.UF(e);default:if(e instanceof r.G)throw e;throw new o.ir(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof a.Gg){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e,10)}return~~(1<<e)*h},retryCount:p,shouldRetry:({error:e})=>"code"in e&&"number"==typeof e.code?-1===e.code||e.code===o.Pv.code||e.code===o.XS.code:!(e instanceof a.Gg)||!e.status||403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status}),{enabled:d,id:y})}}(d,{methods:t,retryCount:f,retryDelay:h,uid:(0,l.h)()}),value:w}}},65704:function(e,t,n){n.d(t,{Y:function(){return o},o:function(){return a}});var r=n(81544);class a extends r.G{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class o extends r.G{constructor({docsPath:e,metaMessages:t,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}},12197:function(e,t,n){n.d(t,{f:function(){return a}});var r=n(81544);class a extends r.G{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}},4496:function(e,t,n){n.d(t,{Fz:function(){return o},e5:function(){return i},ld:function(){return s}});var r=n(29707),a=n(81544);class o extends a.G{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class i extends a.G{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class s extends a.G{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,r.o)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}},29217:function(e,t,n){n.d(t,{t:function(){return c}});var r=n(89256),a=n(44659),o=n(59455),i=n(70044),s=n(13169);function c(e){let{chainId:t,nonce:n,to:c}=e,u=e.contractAddress??e.address,l=(0,s.w)((0,r.SM)(["0x05",(0,i.LV)([t?(0,o.eC)(t):"0x",u,n?(0,o.eC)(n):"0x"])]));return"bytes"===c?(0,a.nr)(l):l}},63936:function(e,t,n){n.d(t,{z:function(){return o}});var r=n(95267),a=n(29217);async function o(e){let{authorization:t,signature:n}=e;return(0,r.R)({hash:(0,a.t)(t),signature:n??t})}},40402:function(e,t,n){n.d(t,{q:function(){return a}});var r=n(35586);function a({chain:e,currentChainId:t}){if(!e)throw new r.Bk;if(t!==e.id)throw new r.Yl({chain:e,currentChainId:t})}},93606:function(e,t,n){n.d(t,{$:function(){return i}});var r=n(78125),a=n(63228),o=n(18856);function i(e,{docsPath:t,...n}){let i=(()=>{let t=(0,o.k)(e,n);return t instanceof r.cj?e:t})();return new a.mk(i,{docsPath:t,...n})}},36478:function(e,t,n){n.d(t,{N7:function(){return i}});let r=new Map,a=new Map,o=0;function i(e,t,n){let i=++o,s=()=>r.get(e)||[],c=()=>{let t=s();r.set(e,t.filter(e=>e.id!==i))},u=()=>{let t=s();if(!t.some(e=>e.id===i))return;let n=a.get(e);if(1===t.length&&n){let e=n();e instanceof Promise&&e.catch(()=>{})}c()},l=s();if(r.set(e,[...l,{id:i,fns:t}]),l&&l.length>0)return u;let d={};for(let e in t)d[e]=(...t)=>{let n=s();if(0!==n.length)for(let r of n)r.fns[e]?.(...t)};let f=n(d);return"function"==typeof f&&a.set(e,f),u}},41495:function(e,t,n){n.d(t,{$:function(){return a}});var r=n(33457);function a(e,{emitOnBegin:t,initialWaitTime:n,interval:a}){let o=!0,i=()=>o=!1;return(async()=>{let s;t&&(s=await e({unpoll:i}));let c=await n?.(s)??a;await (0,r.D)(c);let u=async()=>{o&&(await e({unpoll:i}),await (0,r.D)(a),u())};u()})(),i}},49287:function(e,t,n){n.d(t,{J:function(){return a}});var r=n(33457);function a(e,{delay:t=100,retryCount:n=2,shouldRetry:a=()=>!0}={}){return new Promise((o,i)=>{let s=async({count:c=0}={})=>{let u=async({error:e})=>{let n="function"==typeof t?t({count:c,error:e}):t;n&&await (0,r.D)(n),s({count:c+1})};try{let t=await e();o(t)}catch(e){if(c<n&&await a({count:c,error:e}))return u({error:e});i(e)}};s()})}},95267:function(e,t,n){n.d(t,{R:function(){return l}});var r=n(32449),a=n(93610),o=n(20556),i=n(72932),s=n(59455);async function c({hash:e,signature:t}){let r=(0,a.v)(e)?e:(0,s.NC)(e),{secp256k1:c}=await n.e(9345).then(n.bind(n,99345)),l=(()=>{if("object"==typeof t&&"r"in t&&"s"in t){let{r:e,s:n,v:r,yParity:a}=t,o=u(Number(a??r));return new c.Signature((0,i.y_)(e),(0,i.y_)(n)).addRecoveryBit(o)}let e=(0,a.v)(t)?t:(0,s.NC)(t);if(65!==(0,o.d)(e))throw Error("invalid signature length");let n=u((0,i.ly)(`0x${e.slice(130)}`));return c.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(n)})().recoverPublicKey(r.substring(2)).toHex(!1);return`0x${l}`}function u(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function l({hash:e,signature:t}){return(0,r.y)(await c({hash:e,signature:t}))}},78217:function(e,t,n){let r;n.d(t,{h:function(){return o}});let a=256;function o(e=11){if(!r||a+e>512){r="",a=0;for(let e=0;e<256;e++)r+=(256+256*Math.random()|0).toString(16).substring(1)}return r.substring(a,a+++e)}},33457:function(e,t,n){n.d(t,{D:function(){return r}});async function r(e){return new Promise(t=>setTimeout(t,e))}}}]);