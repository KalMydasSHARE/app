(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1387],{15174:function(e,t,s){Promise.resolve().then(s.bind(s,33777))},33777:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(57437),r=s(2265),n=s(85549),i=s(87084),c=s(68354),o=s(31620);function l(){let{address:e,isConnected:t}=(0,n.m)(),{vestingStarted:s,vestingStart:l,totalAllocated:d,beneficiaryCount:u,nextVestingDate:m,isLoading:x}=(0,i.r0)(),{allocation:h,totalClaimed:g,claimable:b,totalVested:p,isLoading:f,refetch:v,connected:j}=(0,i.MX)(),{balance:N,refetch:y}=(0,i.uy)(),[w,L]=(0,r.useState)("idle"),[C,I]=(0,r.useState)(""),{claim:S,isPending:k,isConfirming:E,isSuccess:A,error:q,hash:R,reset:D}=(0,c.Eb)();(0,r.useEffect)(()=>{A&&"claiming"===w&&(L("success"),v(),y())},[A,w]),(0,r.useEffect)(()=>{if(q&&"claiming"===w){var e;I((null===(e=q.message)||void 0===e?void 0:e.slice(0,120))||"Erreur lors du claim"),L("error")}},[q,w]);let P=()=>{L("idle"),I(""),D()},K=e=>{let t=Number(e)/1e18;return t>=1e3?t.toLocaleString("fr-FR",{maximumFractionDigits:0}):t>=1?t.toLocaleString("fr-FR",{maximumFractionDigits:2}):t.toLocaleString("fr-FR",{maximumFractionDigits:6})},M=e=>new Date(1e3*Number(e)).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),B=BigInt(0),F=BigInt(30)*BigInt(24)*BigInt(60)*BigInt(60),O=BigInt(60)*BigInt(24)*BigInt(60)*BigInt(60),V=BigInt(90)*BigInt(24)*BigInt(60)*BigInt(60),T=h&&h>B,_=h&&h>B?Number((null!=g?g:B)*BigInt(100)/h):0,z=l&&l>B?[{label:"Tranche 1 — 25%",date:l,unlocked:!0},{label:"Tranche 2 — 25%",date:l+F,unlocked:Date.now()/1e3>=Number(l+F)},{label:"Tranche 3 — 25%",date:l+O,unlocked:Date.now()/1e3>=Number(l+O)},{label:"Tranche 4 — 25%",date:l+V,unlocked:Date.now()/1e3>=Number(l+V)}]:[];return(0,a.jsxs)("main",{className:"min-h-screen pb-20",children:[(0,a.jsxs)("div",{className:"text-center pt-12 pb-8 px-4",children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-amber-400 to-orange-400 bg-clip-text text-transparent",children:"Airdrop KAL"}),(0,a.jsx)("p",{className:"mt-2 text-gray-400 text-sm max-w-md mx-auto",children:"R\xe9clamez vos tokens KAL distribu\xe9s lors de la campagne d'airdrop"})]}),(0,a.jsxs)("div",{className:"max-w-lg mx-auto px-4 space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-[var(--card-border)] bg-[var(--card-bg)] p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83E\uDE82"})," Campagne d'Airdrop"]}),x?(0,a.jsx)("div",{className:"text-sm text-gray-500 animate-pulse",children:"Chargement..."}):(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Statut"}),(0,a.jsx)("span",{className:s?"text-green-400 font-medium":"text-yellow-400 font-medium",children:s?"Vesting actif":"En pr\xe9paration"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Total allou\xe9"}),(0,a.jsxs)("span",{className:"text-white font-medium",children:[d?K(d):"0"," KAL"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"B\xe9n\xe9ficiaires"}),(0,a.jsx)("span",{className:"text-white font-medium",children:u})]}),s&&l&&l>B&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"D\xe9but du vesting"}),(0,a.jsx)("span",{className:"text-white font-medium",children:M(l)})]}),m&&m>B&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Prochain unlock"}),(0,a.jsx)("span",{className:"text-amber-400 font-medium",children:M(m)})]})]})]}),t?f?(0,a.jsx)("div",{className:"rounded-2xl border border-[var(--card-border)] bg-[var(--card-bg)] p-6",children:(0,a.jsx)("div",{className:"text-sm text-gray-500 animate-pulse",children:"V\xe9rification de votre allocation..."})}):T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"rounded-2xl border border-[var(--card-border)] bg-[var(--card-bg)] p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83C\uDF81"})," Votre Allocation"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Allocation totale"}),(0,a.jsxs)("span",{className:"text-white font-bold font-mono text-lg",children:[K(h)," KAL"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"D\xe9j\xe0 r\xe9clam\xe9"}),(0,a.jsxs)("span",{className:"text-gray-300",children:[K(null!=g?g:B)," KAL"]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Vested (d\xe9bloqu\xe9)"}),(0,a.jsxs)("span",{className:"text-green-400",children:[K(null!=p?p:B)," KAL"]})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,a.jsx)("span",{children:"Progression"}),(0,a.jsxs)("span",{children:[_,"%"]})]}),(0,a.jsx)("div",{className:"h-2 rounded-full bg-[var(--background)] overflow-hidden",children:(0,a.jsx)("div",{className:"h-full rounded-full bg-gradient-to-r from-amber-500 to-orange-500 transition-all duration-500",style:{width:"".concat(_,"%")}})})]}),b&&b>B&&(0,a.jsx)("div",{className:"mt-4 p-4 rounded-xl bg-amber-500/10 border border-amber-500/20",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-amber-400 font-medium text-sm",children:"Disponible maintenant"}),(0,a.jsxs)("span",{className:"text-amber-400 font-bold font-mono text-xl",children:[K(b)," KAL"]})]})})]})]}),"success"!==w&&(0,a.jsxs)("div",{className:"rounded-2xl border border-[var(--card-border)] bg-[var(--card-bg)] p-6",children:["claiming"===w&&(0,a.jsx)("div",{className:"rounded-xl bg-[var(--background)] p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-7 h-7 rounded-full bg-amber-600 animate-pulse flex items-center justify-center text-xs font-bold text-white",children:"⏳"}),(0,a.jsx)("span",{className:"text-sm text-white",children:k?"Confirmez dans votre wallet...":"Claim en cours..."})]})}),"error"===w&&(0,a.jsxs)("div",{className:"rounded-xl bg-red-500/10 border border-red-500/20 p-4 mb-4",children:[(0,a.jsx)("p",{className:"text-red-400 text-sm mb-2",children:C}),(0,a.jsx)("button",{onClick:P,className:"text-sm text-indigo-400 hover:text-indigo-300 underline",children:"R\xe9essayer"})]}),"idle"===w&&(0,a.jsx)("button",{onClick:()=>{L("claiming"),I(""),D(),S()},disabled:!b||b===B,className:"w-full py-3 rounded-xl font-semibold text-white bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 disabled:opacity-40 disabled:cursor-not-allowed transition-all btn-glow",children:b&&b>B?"R\xe9clamer ".concat(K(b)," KAL"):"Aucun token \xe0 r\xe9clamer"}),!s&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"Le vesting n'a pas encore commenc\xe9. Vous serez notifi\xe9 quand les tokens seront disponibles."})]}),"success"===w&&(0,a.jsxs)("div",{className:"rounded-2xl border border-green-500/30 bg-green-500/5 p-6 text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-3",children:"\uD83C\uDF89"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-green-400 mb-2",children:"Tokens r\xe9clam\xe9s !"}),(0,a.jsxs)("p",{className:"text-gray-400 text-sm mb-4",children:["Vos tokens KAL ont \xe9t\xe9 transf\xe9r\xe9s dans votre wallet.",N&&(0,a.jsxs)("span",{className:"block mt-1 text-white font-medium",children:["Solde KAL : ",K(N)]})]}),R&&(0,a.jsx)("a",{href:"https://sepolia.basescan.org/tx/".concat(R),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-400 hover:text-indigo-300 underline",children:"Voir la transaction sur BaseScan"}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("button",{onClick:P,className:"px-4 py-2 rounded-xl text-sm font-medium border border-[var(--card-border)] text-gray-400 hover:text-white hover:border-indigo-500/50 transition-all",children:"Retour"})})]}),z.length>0&&(0,a.jsxs)("div",{className:"rounded-2xl border border-[var(--card-border)] bg-[var(--card-bg)] p-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-300 mb-4",children:"Calendrier de vesting"}),(0,a.jsx)("div",{className:"space-y-3",children:z.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ".concat(e.unlocked?"bg-green-600 text-white":"bg-gray-700 text-gray-500"),children:e.unlocked?"✓":t+1}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium ".concat(e.unlocked?"text-white":"text-gray-500"),children:e.label}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:M(e.date)})]}),(0,a.jsx)("div",{className:"text-xs px-2 py-1 rounded-full ".concat(e.unlocked?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-500"),children:e.unlocked?"D\xe9bloqu\xe9":"Verrouill\xe9"})]},t))})]})]}):(0,a.jsxs)("div",{className:"rounded-2xl border border-[var(--card-border)] bg-[var(--card-bg)] p-6 text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDE14"}),(0,a.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Pas d'allocation"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Votre wallet n'est pas enregistr\xe9 comme b\xe9n\xe9ficiaire de cet airdrop. Participez \xe0 la communaut\xe9 KalMydas pour les prochaines campagnes !"})]}):(0,a.jsxs)("div",{className:"rounded-2xl border border-[var(--card-border)] bg-[var(--card-bg)] p-6 text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDD17"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Connectez votre wallet pour v\xe9rifier votre allocation d'airdrop."})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-[var(--card-border)] bg-[var(--card-bg)] p-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Comment fonctionne l'airdrop ?"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-gray-400",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-amber-400 mt-0.5",children:"1."}),(0,a.jsx)("span",{children:"Les b\xe9n\xe9ficiaires sont enregistr\xe9s par l'\xe9quipe KalMydas"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-amber-400 mt-0.5",children:"2."}),(0,a.jsx)("span",{children:"Le vesting commence — 25% disponible imm\xe9diatement"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-amber-400 mt-0.5",children:"3."}),(0,a.jsx)("span",{children:"25% suppl\xe9mentaire d\xe9bloqu\xe9 tous les 30 jours (90 jours au total)"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-amber-400 mt-0.5",children:"4."}),(0,a.jsx)("span",{children:"R\xe9clamez vos tokens \xe0 tout moment — pas de date limite"})]})]})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("a",{href:"https://sepolia.basescan.org/address/".concat(o.qE.airdrop),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-500 hover:text-gray-400 transition",children:["Contrat: ",o.qE.airdrop.slice(0,10),"...",o.qE.airdrop.slice(-8)]})})]})]})}},68354:function(e,t,s){"use strict";s.d(t,{Eb:function(){return f},Gj:function(){return h},Qh:function(){return u},X1:function(){return g},ZS:function(){return b},cp:function(){return p},ed:function(){return m},ip:function(){return x},mn:function(){return l},nr:function(){return d},uG:function(){return c},zL:function(){return o}});var a=s(94517),r=s(97269),n=s(81460),i=s(31620);function c(){let{data:e,writeContract:t,isPending:s,error:c,reset:o}=(0,a.S)(),{isLoading:l,isSuccess:d}=(0,r.A)({hash:e});return{approve:(e,s)=>{t({address:i.qE.usdc,abi:i.RB,functionName:"approve",args:[e,s],chainId:n.L.id})},isPending:s,isConfirming:l,isSuccess:d,error:c,hash:e,reset:o}}function o(e){let{data:t,writeContract:s,isPending:c,error:o,reset:l}=(0,a.S)(),{isLoading:d,isSuccess:u}=(0,r.A)({hash:t});return{deposit:t=>{s({address:i.qE.pools[e],abi:i.He,functionName:"depositUSDC",args:[t],chainId:n.L.id})},isPending:c,isConfirming:d,isSuccess:u,error:o,hash:t,reset:l}}function l(e){let{data:t,writeContract:s,isPending:c,error:o,reset:l}=(0,a.S)(),{isLoading:d,isSuccess:u}=(0,r.A)({hash:t});return{withdraw:t=>{s({address:i.qE.pools[e],abi:i.He,functionName:"withdraw",args:[t],chainId:n.L.id})},isPending:c,isConfirming:d,isSuccess:u,error:o,hash:t,reset:l}}function d(){let{data:e,writeContract:t,isPending:s,error:c,reset:o}=(0,a.S)(),{isLoading:l,isSuccess:d}=(0,r.A)({hash:e});return{mintPass:e=>{t({address:i.qE.accessPass,abi:i.Yu,functionName:"mint",args:[BigInt(e)],chainId:n.L.id})},isPending:s,isConfirming:l,isSuccess:d,error:c,hash:e,reset:o}}function u(){let{data:e,writeContract:t,isPending:s,error:c,reset:o}=(0,a.S)(),{isLoading:l,isSuccess:d}=(0,r.A)({hash:e});return{renewPass:e=>{t({address:i.qE.accessPass,abi:i.Yu,functionName:"renew",args:[BigInt(e)],chainId:n.L.id})},isPending:s,isConfirming:l,isSuccess:d,error:c,hash:e,reset:o}}function m(){let{data:e,writeContract:t,isPending:s,error:c,reset:o}=(0,a.S)(),{isLoading:l,isSuccess:d}=(0,r.A)({hash:e});return{approve:(e,s)=>{t({address:i.qE.kalToken,abi:i.RB,functionName:"approve",args:[e,s],chainId:n.L.id})},isPending:s,isConfirming:l,isSuccess:d,error:c,hash:e,reset:o}}function x(){let{data:e,writeContract:t,isPending:s,error:c,reset:o}=(0,a.S)(),{isLoading:l,isSuccess:d}=(0,r.A)({hash:e});return{swap:(e,s)=>{t({address:i.qE.kalSwap,abi:i._1,functionName:"swapUSDCForKAL",args:[e,s],chainId:n.L.id})},isPending:s,isConfirming:l,isSuccess:d,error:c,hash:e,reset:o}}function h(){let{data:e,writeContract:t,isPending:s,error:c,reset:o}=(0,a.S)(),{isLoading:l,isSuccess:d}=(0,r.A)({hash:e});return{swap:(e,s)=>{t({address:i.qE.kalSwap,abi:i._1,functionName:"swapKALForUSDC",args:[e,s],chainId:n.L.id})},isPending:s,isConfirming:l,isSuccess:d,error:c,hash:e,reset:o}}function g(){let{data:e,writeContract:t,isPending:s,error:c,reset:o}=(0,a.S)(),{isLoading:l,isSuccess:d}=(0,r.A)({hash:e});return{addLiquidity:(e,s)=>{t({address:i.qE.kalSwap,abi:i._1,functionName:"addLiquidity",args:[e,s],chainId:n.L.id})},isPending:s,isConfirming:l,isSuccess:d,error:c,hash:e,reset:o}}function b(){let{data:e,writeContract:t,isPending:s,error:c,reset:o}=(0,a.S)(),{isLoading:l,isSuccess:d}=(0,r.A)({hash:e});return{removeLiquidity:e=>{t({address:i.qE.kalSwap,abi:i._1,functionName:"removeLiquidity",args:[e],chainId:n.L.id})},isPending:s,isConfirming:l,isSuccess:d,error:c,hash:e,reset:o}}function p(){let{data:e,writeContract:t,isPending:s,error:c,reset:o}=(0,a.S)(),{isLoading:l,isSuccess:d}=(0,r.A)({hash:e});return{claim:()=>{t({address:i.qE.liquidityRewards,abi:i.HV,functionName:"claim",args:[],chainId:n.L.id})},isPending:s,isConfirming:l,isSuccess:d,error:c,hash:e,reset:o}}function f(){let{data:e,writeContract:t,isPending:s,error:c,reset:o}=(0,a.S)(),{isLoading:l,isSuccess:d}=(0,r.A)({hash:e});return{claim:()=>{t({address:i.qE.airdrop,abi:i.eX,functionName:"claim",args:[],chainId:n.L.id})},isPending:s,isConfirming:l,isSuccess:d,error:c,hash:e,reset:o}}},93715:function(e,t,s){"use strict";s.d(t,{P:function(){return r}});var a=s(24250);function r(e,t={}){let{key:s="custom",methods:r,name:n="Custom Provider",retryDelay:i}=t;return({retryCount:c})=>(0,a.q)({key:s,methods:r,name:n,request:e.request.bind(e),retryCount:t.retryCount??c,retryDelay:i,type:"custom"})}},97269:function(e,t,s){"use strict";s.d(t,{A:function(){return x}});var a=s(72932),r=s(67348),n=s(39277),i=s(50550),c=s(44199);async function o(e,t){let{chainId:s,timeout:o=0,...l}=t,d=e.getClient({chainId:s}),u=(0,c.s)(d,r.e,"waitForTransactionReceipt"),m=await u({...l,timeout:o});if("reverted"===m.status){let e=(0,c.s)(d,n.f,"getTransaction"),{from:t,...s}=await e({hash:m.transactionHash}),r=(0,c.s)(d,i.R,"call"),o=await r({...s,account:t,data:s.input,gasPrice:"eip1559"!==s.type?s.gasPrice:void 0,maxFeePerGas:"eip1559"===s.type?s.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===s.type?s.maxPriorityFeePerGas:void 0});throw Error(o?.data?(0,a.rR)(`0x${o.data.substring(138)}`):"unknown reason")}return{...m,chainId:d.chain.id}}var l=s(27534),d=s(97074),u=s(44005),m=s(12364);function x(){var e,t;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{hash:a,query:r={}}=s,n=(0,m.Z)(s),i=(0,u.x)({config:n}),c=function(e,t={}){return{async queryFn({queryKey:s}){let{hash:a,...r}=s[1];if(!a)throw Error("hash is required");return o(e,{...r,onReplaced:t.onReplaced,hash:a})},queryKey:function(e={}){let{onReplaced:t,...s}=e;return["waitForTransactionReceipt",(0,l.OP)(s)]}(t)}}(n,{...s,chainId:null!==(e=s.chainId)&&void 0!==e?e:i}),x=!!(a&&(null===(t=r.enabled)||void 0===t||t));return(0,d.aM)({...r,...c,enabled:x})}},94517:function(e,t,s){"use strict";s.d(t,{S:function(){return j}});var a=s(2265),r=s(2894),n=s(18238),i=s(24112),c=s(45345),o=class extends i.l{#e;#t=void 0;#s;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,c.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,c.Ym)(t.mutationKey)!==(0,c.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#n()}mutate(e,t){return this.#a=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#r(){let e=this.#s?.state??(0,r.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){n.Vr.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#a.onSuccess?.(e.data,t,s,a)}catch(e){Promise.reject(e)}try{this.#a.onSettled?.(e.data,null,t,s,a)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#a.onError?.(e.error,t,s,a)}catch(e){Promise.reject(e)}try{this.#a.onSettled?.(void 0,e.error,t,s,a)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#t)})})}},l=s(29827),d=s(50825),u=s(44199),m=s(82538),x=s(93715),h=s(19775),g=s(31669),b=s(13102);async function p(e,t={}){let s;let{assertChainId:a=!0}=t;if(t.connector){let{connector:a}=t;if("reconnecting"===e.state.status&&!a.getAccounts&&!a.getChainId)throw new b.$S({connector:a});let[r,n]=await Promise.all([a.getAccounts().catch(e=>{if(null===t.account)return[];throw e}),a.getChainId()]);s={accounts:r,chainId:n,connector:a}}else s=e.state.connections.get(e.state.current);if(!s)throw new b.aH;let r=t.chainId??s.chainId,n=await s.connector.getChainId();if(a&&n!==r)throw new b.XZ({connectionChainId:r,connectorChainId:n});let i=s.connector;if(i.getClient)return i.getClient({chainId:r});let c=(0,h.T)(t.account??s.accounts[0]);if(c&&(c.address=(0,g.K)(c.address)),t.account&&!s.accounts.some(e=>e.toLowerCase()===c.address.toLowerCase()))throw new b.JK({address:c.address,connector:i});let o=e.chains.find(e=>e.id===r),l=await s.connector.getProvider({chainId:r});return(0,m.e)({account:c,chain:o,name:"Connector Client",transport:e=>(0,x.P)(l)({...e,retryCount:0})})}async function f(e,t){let s;let{account:a,chainId:r,connector:n,...i}=t;s="object"==typeof a&&a?.type==="local"?e.getClient({chainId:r}):await p(e,{account:a??void 0,assertChainId:!1,chainId:r,connector:n});let c=(0,u.s)(s,d.n,"writeContract");return await c({...i,...a?{account:a}:{},chain:r?{id:r}:null})}var v=s(12364);function j(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:s}=t,r=(e=(0,v.Z)(t),{mutationFn:t=>f(e,t),mutationKey:["writeContract"]}),{mutate:i,mutateAsync:d,...u}=function(e,t){let s=(0,l.NL)(void 0),[r]=a.useState(()=>new o(s,e));a.useEffect(()=>{r.setOptions(e)},[r,e]);let i=a.useSyncExternalStore(a.useCallback(e=>r.subscribe(n.Vr.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),d=a.useCallback((e,t)=>{r.mutate(e,t).catch(c.ZT)},[r]);if(i.error&&(0,c.L3)(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:d,mutateAsync:i.mutate}}({...s,...r});return{...u,writeContract:i,writeContractAsync:d}}}},function(e){e.O(0,[8248,447,5001,7084,2971,2117,1744],function(){return e(e.s=15174)}),_N_E=e.O()}]);