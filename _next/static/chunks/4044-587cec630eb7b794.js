"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4044],{2894:function(e,t,n){n.d(t,{R:function(){return s},m:function(){return o}});var r=n(18238),a=n(7989),i=n(11255),o=class extends a.F{#e;#t;#n;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||s(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||("pending"===this.state.status?this.scheduleGc():this.#n.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#a({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=(0,i.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#a({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});let r="pending"===this.state.status,a=!this.#r.canStart();try{if(r)t();else{this.#a({type:"pending",variables:e,isPaused:a}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);let t=await this.options.onMutate?.(e,n);t!==this.state.context&&this.#a({type:"pending",context:t,variables:e,isPaused:a})}let i=await this.#r.start();return await this.#n.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#a({type:"success",data:i}),i}catch(t){try{await this.#n.config.onError?.(t,e,this.state.context,this,n)}catch(e){Promise.reject(e)}try{await this.options.onError?.(t,e,this.state.context,n)}catch(e){Promise.reject(e)}try{await this.#n.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,n)}catch(e){Promise.reject(e)}try{await this.options.onSettled?.(void 0,t,e,this.state.context,n)}catch(e){Promise.reject(e)}throw this.#a({type:"error",error:t}),t}finally{this.#n.runNext(this)}}#a(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),r.Vr.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function s(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},21770:function(e,t,n){n.d(t,{D:function(){return l}});var r=n(2265),a=n(2894),i=n(18238),o=n(24112),s=n(45345),c=class extends o.l{#e;#i=void 0;#o;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#c()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,s.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#o,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,s.Ym)(t.mutationKey)!==(0,s.Ym)(this.options.mutationKey)?this.reset():this.#o?.state.status==="pending"&&this.#o.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#o?.removeObserver(this)}onMutationUpdate(e){this.#c(),this.#u(e)}getCurrentResult(){return this.#i}reset(){this.#o?.removeObserver(this),this.#o=void 0,this.#c(),this.#u()}mutate(e,t){return this.#s=t,this.#o?.removeObserver(this),this.#o=this.#e.getMutationCache().build(this.#e,this.options),this.#o.addObserver(this),this.#o.execute(e)}#c(){let e=this.#o?.state??(0,a.R)();this.#i={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#u(e){i.Vr.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#i.variables,n=this.#i.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#s.onSuccess?.(e.data,t,n,r)}catch(e){Promise.reject(e)}try{this.#s.onSettled?.(e.data,null,t,n,r)}catch(e){Promise.reject(e)}}else if(e?.type==="error"){try{this.#s.onError?.(e.error,t,n,r)}catch(e){Promise.reject(e)}try{this.#s.onSettled?.(void 0,e.error,t,n,r)}catch(e){Promise.reject(e)}}}this.listeners.forEach(e=>{e(this.#i)})})}},u=n(29827);function l(e,t){let n=(0,u.NL)(t),[a]=r.useState(()=>new c(n,e));r.useEffect(()=>{a.setOptions(e)},[a,e]);let o=r.useSyncExternalStore(r.useCallback(e=>a.subscribe(i.Vr.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=r.useCallback((e,t)=>{a.mutate(e,t).catch(s.ZT)},[a]);if(o.error&&(0,s.L3)(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}},13102:function(e,t,n){n.d(t,{$S:function(){return c},JK:function(){return o},X4:function(){return a},XZ:function(){return s},aH:function(){return i}});var r=n(26129);class a extends r.G{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class i extends r.G{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class o extends r.G{constructor({address:e,connector:t}){super(`Account "${e}" not found for connector "${t.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class s extends r.G{constructor({connectionChainId:e,connectorChainId:t}){super(`The current chain of the connector (id: ${t}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class c extends r.G{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:"During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`. All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored. This error commonly occurs for connectors that asynchronously inject after reconnection has already started."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}},32449:function(e,t,n){n.d(t,{y:function(){return i}});var r=n(31669),a=n(13169);function i(e){let t=(0,a.w)(`0x${e.substring(4)}`).substring(26);return(0,r.x)(`0x${t}`)}},6458:function(e,t,n){n.d(t,{C:function(){return u},X:function(){return c}});var r=n(4496),a=n(82645),i=n(96174),o=n(74587),s=n(25283);async function c(e,t){return u(e,t)}async function u(e,t){let{block:n,chain:c=e.chain,request:u,type:l="eip1559"}=t||{},d=await (async()=>"function"==typeof c?.fees?.baseFeeMultiplier?c.fees.baseFeeMultiplier({block:n,client:e,request:u}):c?.fees?.baseFeeMultiplier??1.2)();if(d<1)throw new r.Fz;let h=10**(d.toString().split(".")[1]?.length??0),f=e=>e*BigInt(Math.ceil(d*h))/BigInt(h),p=n||await (0,a.s)(e,o.Q,"getBlock")({});if("function"==typeof c?.fees?.estimateFeesPerGas){let t=await c.fees.estimateFeesPerGas({block:n,client:e,multiply:f,request:u,type:l});if(null!==t)return t}if("eip1559"===l){if("bigint"!=typeof p.baseFeePerGas)throw new r.e5;let t="bigint"==typeof u?.maxPriorityFeePerGas?u.maxPriorityFeePerGas:await (0,i.h)(e,{block:p,chain:c,request:u}),n=f(p.baseFeePerGas);return{maxFeePerGas:u?.maxFeePerGas??n+t,maxPriorityFeePerGas:t}}return{gasPrice:u?.gasPrice??f(await (0,a.s)(e,s.o,"getGasPrice")({}))}}},8741:function(e,t,n){n.d(t,{Q:function(){return b}});var r=n(19775),a=n(81544),i=n(63936),o=n(59455),s=n(71282),c=n(29707),u=n(63228);class l extends a.G{constructor(e,{account:t,docsPath:n,chain:r,data:a,gas:i,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:f,value:p}){super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,u.xr)({from:t?.address,to:f,value:void 0!==p&&`${(0,s.d)(p)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:i,gasPrice:void 0!==o&&`${(0,c.o)(o)} gwei`,maxFeePerGas:void 0!==l&&`${(0,c.o)(l)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,c.o)(d)} gwei`,nonce:h})].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}var d=n(78125),h=n(18856),f=n(70878),p=n(92614),m=n(77911),w=n(54605),y=n(34467);async function b(e,t){let{account:n=e.account,prepare:s=!0}=t,c=n?(0,r.T)(n):void 0,u=Array.isArray(s)?s:c?.type!=="local"?["blobVersionedHashes"]:void 0;try{let n=await (async()=>t.to?t.to:t.authorizationList&&t.authorizationList.length>0?await (0,i.z)({authorization:t.authorizationList[0]}).catch(()=>{throw new a.G("`to` is required. Could not infer from `authorizationList`")}):void 0)(),{accessList:r,authorizationList:l,blobs:d,blobVersionedHashes:h,blockNumber:b,blockTag:g,data:v,gas:P,gasPrice:x,maxFeePerBlobGas:F,maxFeePerGas:T,maxPriorityFeePerGas:C,nonce:G,value:k,stateOverride:R,...M}=s?await (0,y.ZE)(e,{...t,parameters:u,to:n}):t;if(P&&t.gas!==P)return P;let E=("bigint"==typeof b?(0,o.eC)(b):void 0)||g,N=(0,m.mF)(R);(0,w.F)(t);let B=e.chain?.formatters?.transactionRequest?.format,I=(B||p.tG)({...(0,f.K)(M,{format:B}),account:c,accessList:r,authorizationList:l,blobs:d,blobVersionedHashes:h,data:v,gasPrice:x,maxFeePerBlobGas:F,maxFeePerGas:T,maxPriorityFeePerGas:C,nonce:G,to:n,value:k},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:N?[I,E??e.experimental_blockTag??"latest",N]:E?[I,E]:[I]}))}catch(n){throw function(e,{docsPath:t,...n}){return new l((()=>{let t=(0,h.k)(e,n);return t instanceof d.cj?e:t})(),{docsPath:t,...n})}(n,{...t,account:c,chain:e.chain})}}},96174:function(e,t,n){n.d(t,{_:function(){return c},h:function(){return u}});var r=n(4496),a=n(72932),i=n(82645),o=n(74587),s=n(25283);async function c(e,t){return u(e,t)}async function u(e,t){let{block:n,chain:c=e.chain,request:u}=t||{};try{let t=c?.fees?.maxPriorityFeePerGas??c?.fees?.defaultPriorityFee;if("function"==typeof t){let r=n||await (0,i.s)(e,o.Q,"getBlock")({}),a=await t({block:r,client:e,request:u});if(null===a)throw Error();return a}if(void 0!==t)return t;let r=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,a.y_)(r)}catch{let[t,a]=await Promise.all([n?Promise.resolve(n):(0,i.s)(e,o.Q,"getBlock")({}),(0,i.s)(e,s.o,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new r.e5;let c=a-t.baseFeePerGas;if(c<0n)return 0n;return c}}},332:function(e,t,n){n.d(t,{b:function(){return f}});var r=n(19775),a=n(4496),i=n(93606),o=n(70878),s=n(27481),c=n(92614),u=n(82645),l=n(54605),d=n(74587),h=n(12363);async function f(e,t){let{account:n=e.account,accessList:f,authorizationList:p,chain:m=e.chain,blobVersionedHashes:w,blobs:y,data:b,gas:g,gasPrice:v,maxFeePerBlobGas:P,maxFeePerGas:x,maxPriorityFeePerGas:F,nonce:T,nonceManager:C,to:G,type:k,value:R,...M}=t,E=await (async()=>{if(!n||!C||void 0!==T)return T;let t=(0,r.T)(n),a=m?m.id:await (0,u.s)(e,h.L,"getChainId")({});return await C.consume({address:t.address,chainId:a,client:e})})();(0,l.F)(t);let N=m?.formatters?.transactionRequest?.format,B=(N||c.tG)({...(0,o.K)(M,{format:N}),account:n?(0,r.T)(n):void 0,accessList:f,authorizationList:p,blobs:y,blobVersionedHashes:w,data:b,gas:g,gasPrice:v,maxFeePerBlobGas:P,maxFeePerGas:x,maxPriorityFeePerGas:F,nonce:E,to:G,type:k,value:R},"fillTransaction");try{let n=await e.request({method:"eth_fillTransaction",params:[B]}),r=(m?.formatters?.transaction?.format||s.Tr)(n.tx);delete r.blockHash,delete r.blockNumber,delete r.r,delete r.s,delete r.transactionIndex,delete r.v,delete r.yParity,r.data=r.input,r.gas&&(r.gas=t.gas??r.gas),r.gasPrice&&(r.gasPrice=t.gasPrice??r.gasPrice),r.maxFeePerBlobGas&&(r.maxFeePerBlobGas=t.maxFeePerBlobGas??r.maxFeePerBlobGas),r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas??r.maxFeePerGas),r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas??r.maxPriorityFeePerGas),r.nonce&&(r.nonce=t.nonce??r.nonce);let i=await (async()=>{if("function"==typeof m?.fees?.baseFeeMultiplier){let n=await (0,u.s)(e,d.Q,"getBlock")({});return m.fees.baseFeeMultiplier({block:n,client:e,request:t})}return m?.fees?.baseFeeMultiplier??1.2})();if(i<1)throw new a.Fz;let o=i.toString().split(".")[1]?.length??0,c=10**o,l=e=>e*BigInt(Math.ceil(i*c))/BigInt(c);return r.maxFeePerGas&&!t.maxFeePerGas&&(r.maxFeePerGas=l(r.maxFeePerGas)),r.gasPrice&&!t.gasPrice&&(r.gasPrice=l(r.gasPrice)),{raw:n.raw,transaction:{from:B.from,...r}}}catch(n){throw(0,i.$)(n,{...t,chain:e.chain})}}},74587:function(e,t,n){n.d(t,{Q:function(){return o}});var r=n(12197),a=n(59455),i=n(59069);async function o(e,{blockHash:t,blockNumber:n,blockTag:o=e.experimental_blockTag??"latest",includeTransactions:s}={}){let c=s??!1,u=void 0!==n?(0,a.eC)(n):void 0,l=null;if(!(l=t?await e.request({method:"eth_getBlockByHash",params:[t,c]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[u||o,c]},{dedupe:!!u})))throw new r.f({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||i.Z)(l,"getBlock")}},13708:function(e,t,n){n.d(t,{z:function(){return s}});let r=new Map,a=new Map;async function i(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){let i=function(e){let t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:n=>t.set(e,n)}),n=t(e,r),i=t(e,a);return{clear:()=>{n.clear(),i.clear()},promise:n,response:i}}(t),o=i.response.get();if(o&&n>0&&Date.now()-o.created.getTime()<n)return o.data;let s=i.promise.get();s||(s=e(),i.promise.set(s));try{let e=await s;return i.response.set({created:new Date,data:e}),e}finally{i.promise.clear()}}let o=e=>`blockNumber.${e}`;async function s(e,{cacheTime:t=e.cacheTime}={}){return BigInt(await i(()=>e.request({method:"eth_blockNumber"}),{cacheKey:o(e.uid),cacheTime:t}))}},12363:function(e,t,n){n.d(t,{L:function(){return a}});var r=n(72932);async function a(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,r.ly)(t)}},25283:function(e,t,n){n.d(t,{o:function(){return r}});async function r(e){return BigInt(await e.request({method:"eth_gasPrice"}))}},39277:function(e,t,n){n.d(t,{f:function(){return o}});var r=n(63228),a=n(59455),i=n(27481);async function o(e,{blockHash:t,blockNumber:n,blockTag:o,hash:s,index:c,sender:u,nonce:l}){let d=o||"latest",h=void 0!==n?(0,a.eC)(n):void 0,f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,a.eC)(c)]},{dedupe:!0}):(h||d)&&"number"==typeof c?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[h||d,(0,a.eC)(c)]},{dedupe:!!h}):u&&"number"==typeof l&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[u,(0,a.eC)(l)]},{dedupe:!0})),!f)throw new r.Bh({blockHash:t,blockNumber:n,blockTag:d,hash:s,index:c});return(e.chain?.formatters?.transaction?.format||i.Tr)(f,"getTransaction")}},16689:function(e,t,n){n.d(t,{K:function(){return i}});var r=n(72932),a=n(59455);async function i(e,{address:t,blockTag:n="latest",blockNumber:i}){let o=await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof i?(0,a.eC)(i):n]},{dedupe:!!i});return(0,r.ly)(o)}},78526:function(e,t,n){n.d(t,{a:function(){return i}});var r=n(63228),a=n(13550);async function i(e,{hash:t}){let n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new r.Yb({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||a.fA)(n,"getTransactionReceipt")}},67348:function(e,t,n){n.d(t,{e:function(){return p}});var r=n(12197),a=n(63228),i=n(82645),o=n(36478),s=n(56921),c=n(49287),u=n(31853),l=n(74587),d=n(39277),h=n(78526),f=n(2228);async function p(e,t){let n,p,m,w,y;let{checkReplacement:b=!0,confirmations:g=1,hash:v,onReplaced:P,retryCount:x=6,retryDelay:F=({count:e})=>200*~~(1<<e),timeout:T=18e4}=t,C=(0,u.P)(["waitForTransactionReceipt",e.uid,v]),G=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval,k=!1,{promise:R,resolve:M,reject:E}=(0,s.n)(),N=T?setTimeout(()=>{y?.(),w?.(),E(new a.mc({hash:v}))},T):void 0;return w=(0,o.N7)(C,{onReplaced:P,resolve:M,reject:E},async t=>{if((m=await (0,i.s)(e,h.a,"getTransactionReceipt")({hash:v}).catch(()=>void 0))&&g<=1){clearTimeout(N),t.resolve(m),w?.();return}y=(0,i.s)(e,f.q,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:G,async onBlockNumber(o){let s=e=>{clearTimeout(N),y?.(),e(),w?.()},u=o;if(!k)try{if(m){if(g>1&&(!m.blockNumber||u-m.blockNumber+1n<g))return;s(()=>t.resolve(m));return}if(b&&!n&&(k=!0,await (0,c.J)(async()=>{(n=await (0,i.s)(e,d.f,"getTransaction")({hash:v})).blockNumber&&(u=n.blockNumber)},{delay:F,retryCount:x}),k=!1),m=await (0,i.s)(e,h.a,"getTransactionReceipt")({hash:v}),g>1&&(!m.blockNumber||u-m.blockNumber+1n<g))return;s(()=>t.resolve(m))}catch(o){if(o instanceof a.Bh||o instanceof a.Yb){if(!n){k=!1;return}try{p=n,k=!0;let a=await (0,c.J)(()=>(0,i.s)(e,l.Q,"getBlock")({blockNumber:u,includeTransactions:!0}),{delay:F,retryCount:x,shouldRetry:({error:e})=>e instanceof r.f});k=!1;let o=a.transactions.find(({from:e,nonce:t})=>e===p.from&&t===p.nonce);if(!o||(m=await (0,i.s)(e,h.a,"getTransactionReceipt")({hash:o.hash}),g>1&&(!m.blockNumber||u-m.blockNumber+1n<g)))return;let d="replaced";o.to===p.to&&o.value===p.value&&o.input===p.input?d="repriced":o.from===o.to&&0n===o.value&&(d="cancelled"),s(()=>{t.onReplaced?.({reason:d,replacedTransaction:p,transaction:o,transactionReceipt:m}),t.resolve(m)})}catch(e){s(()=>t.reject(e))}}else s(()=>t.reject(o))}}})}),R}},2228:function(e,t,n){n.d(t,{q:function(){return u}});var r=n(72932),a=n(82645),i=n(36478),o=n(41495),s=n(31853),c=n(13708);function u(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:u,onError:l,poll:d,pollingInterval:h=e.pollingInterval}){let f;return(void 0!==d?d:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{let r=(0,s.P)(["watchBlockNumber",e.uid,t,n,h]);return(0,i.N7)(r,{onBlockNumber:u,onError:l},r=>(0,o.$)(async()=>{try{let t=await (0,a.s)(e,c.z,"getBlockNumber")({cacheTime:0});if(void 0!==f){if(t===f)return;if(t-f>1&&n)for(let e=f+1n;e<t;e++)r.onBlockNumber(e,f),f=e}(void 0===f||t>f)&&(r.onBlockNumber(t,f),f=t)}catch(e){r.onError?.(e)}},{emitOnBegin:t,interval:h}))})():(()=>{let a=(0,s.P)(["watchBlockNumber",e.uid,t,n]);return(0,i.N7)(a,{onBlockNumber:u,onError:l},t=>{let n=!0,a=()=>n=!1;return(async()=>{try{let i=(()=>{if("fallback"===e.transport.type){let t=e.transport.transports.find(e=>"webSocket"===e.config.type||"ipc"===e.config.type);return t?t.value:e.transport}return e.transport})(),{unsubscribe:o}=await i.subscribe({params:["newHeads"],onData(e){if(!n)return;let a=(0,r.y_)(e.result?.number);t.onBlockNumber(a,f),f=a},onError(e){t.onError?.(e)}});a=o,n||a()}catch(e){l?.(e)}})(),()=>a()})})()}},34467:function(e,t,n){n.d(t,{QZ:function(){return g},ZE:function(){return x}});var r=n(19775),a=n(6458),i=n(8741),o=n(74587),s=n(16689),c=n(4496),u=n(63563),l=n(67496),d=n(58438),h=n(10932),f=n(82645),p=n(82061),m=n(54605),w=n(90683),y=n(332),b=n(12363);let g=["blobVersionedHashes","chainId","fees","gas","nonce","type"],v=new Map,P=new p.k(128);async function x(e,t){let n,p,x=t;x.account??=e.account,x.parameters??=g;let{account:F,chain:T=e.chain,nonceManager:C,parameters:G}=x,k="function"==typeof T?.prepareTransactionRequest?{fn:T.prepareTransactionRequest,runAt:["beforeFillTransaction"]}:Array.isArray(T?.prepareTransactionRequest)?{fn:T.prepareTransactionRequest[0],runAt:T.prepareTransactionRequest[1].runAt}:void 0;async function R(){return n||(void 0!==x.chainId?x.chainId:T?T.id:n=await (0,f.s)(e,b.L,"getChainId")({}))}let M=F?(0,r.T)(F):F,E=x.nonce;if(G.includes("nonce")&&void 0===E&&M&&C){let t=await R();E=await C.consume({address:M.address,chainId:t,client:e})}k?.fn&&k.runAt?.includes("beforeFillTransaction")&&(x=await k.fn({...x,chain:T},{phase:"beforeFillTransaction"}),E??=x.nonce);let N=(!(G.includes("blobVersionedHashes")||G.includes("sidecars"))||!x.kzg||!x.blobs)&&!1!==P.get(e.uid)&&["fees","gas"].some(e=>G.includes(e))&&(G.includes("chainId")&&"number"!=typeof x.chainId||G.includes("nonce")&&"number"!=typeof E||G.includes("fees")&&"bigint"!=typeof x.gasPrice&&("bigint"!=typeof x.maxFeePerGas||"bigint"!=typeof x.maxPriorityFeePerGas)||G.includes("gas")&&"bigint"!=typeof x.gas)?await (0,f.s)(e,y.b,"fillTransaction")({...x,nonce:E}).then(t=>{let{chainId:n,from:r,gas:a,gasPrice:i,nonce:o,maxFeePerBlobGas:s,maxFeePerGas:c,maxPriorityFeePerGas:u,type:l,...d}=t.transaction;return P.set(e.uid,!0),{...x,...r?{from:r}:{},...l?{type:l}:{},...void 0!==n?{chainId:n}:{},...void 0!==a?{gas:a}:{},...void 0!==i?{gasPrice:i}:{},...void 0!==o?{nonce:o}:{},...void 0!==s?{maxFeePerBlobGas:s}:{},...void 0!==c?{maxFeePerGas:c}:{},...void 0!==u?{maxPriorityFeePerGas:u}:{},..."nonceKey"in d&&void 0!==d.nonceKey?{nonceKey:d.nonceKey}:{}}}).catch(t=>("TransactionExecutionError"!==t.name||t.walk?.(e=>"MethodNotFoundRpcError"===e.name||"MethodNotSupportedRpcError"===e.name)&&P.set(e.uid,!1),x)):x;E??=N.nonce;let{blobs:B,gas:I,kzg:S,type:O}=x={...N,...M?{from:M?.address}:{},...E?{nonce:E}:{}};async function q(){return p||(p=await (0,f.s)(e,o.Q,"getBlock")({blockTag:"latest"}))}if(k?.fn&&k.runAt?.includes("beforeFillParameters")&&(x=await k.fn({...x,chain:T},{phase:"beforeFillParameters"})),G.includes("nonce")&&void 0===E&&M&&!C&&(x.nonce=await (0,f.s)(e,s.K,"getTransactionCount")({address:M.address,blockTag:"pending"})),(G.includes("blobVersionedHashes")||G.includes("sidecars"))&&B&&S){let e=(0,u.P)({blobs:B,kzg:S});if(G.includes("blobVersionedHashes")){let t=(0,d.C)({commitments:e,to:"hex"});x.blobVersionedHashes=t}if(G.includes("sidecars")){let t=(0,l.y)({blobs:B,commitments:e,kzg:S}),n=(0,h.j)({blobs:B,commitments:e,proofs:t,to:"hex"});x.sidecars=n}}if(G.includes("chainId")&&(x.chainId=await R()),(G.includes("fees")||G.includes("type"))&&void 0===O)try{x.type=(0,w.l)(x)}catch{let t=v.get(e.uid);if(void 0===t){let n=await q();t="bigint"==typeof n?.baseFeePerGas,v.set(e.uid,t)}x.type=t?"eip1559":"legacy"}if(G.includes("fees")){if("legacy"!==x.type&&"eip2930"!==x.type){if(void 0===x.maxFeePerGas||void 0===x.maxPriorityFeePerGas){let t=await q(),{maxFeePerGas:n,maxPriorityFeePerGas:r}=await (0,a.C)(e,{block:t,chain:T,request:x});if(void 0===x.maxPriorityFeePerGas&&x.maxFeePerGas&&x.maxFeePerGas<r)throw new c.ld({maxPriorityFeePerGas:r});x.maxPriorityFeePerGas=r,x.maxFeePerGas=n}}else{if(void 0!==x.maxFeePerGas||void 0!==x.maxPriorityFeePerGas)throw new c.e5;if(void 0===x.gasPrice){let t=await q(),{gasPrice:n}=await (0,a.C)(e,{block:t,chain:T,request:x,type:"legacy"});x.gasPrice=n}}}return G.includes("gas")&&void 0===I&&(x.gas=await (0,f.s)(e,i.Q,"estimateGas")({...x,account:M,prepare:M?.type==="local"?[]:["blobVersionedHashes"]})),k?.fn&&k.runAt?.includes("afterFillParameters")&&(x=await k.fn({...x,chain:T},{phase:"afterFillParameters"})),(0,m.F)(x),delete x.parameters,x}},9769:function(e,t,n){n.d(t,{p:function(){return r}});async function r(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}},41709:function(e,t,n){n.d(t,{T:function(){return g}});var r=n(19775),a=n(65704),i=n(81544),o=n(63936),s=n(40402),c=n(89256),u=n(93606),l=n(70878),d=n(92614),h=n(82645),f=n(82061),p=n(54605),m=n(12363),w=n(34467),y=n(9769);let b=new f.k(128);async function g(e,t){let{account:n=e.account,assertChainId:f=!0,chain:g=e.chain,accessList:v,authorizationList:P,blobs:x,data:F,dataSuffix:T="string"==typeof e.dataSuffix?e.dataSuffix:e.dataSuffix?.value,gas:C,gasPrice:G,maxFeePerBlobGas:k,maxFeePerGas:R,maxPriorityFeePerGas:M,nonce:E,type:N,value:B,...I}=t;if(void 0===n)throw new a.o({docsPath:"/docs/actions/wallet/sendTransaction"});let S=n?(0,r.T)(n):null;try{(0,p.F)(t);let n=await (async()=>t.to?t.to:null!==t.to&&P&&P.length>0?await (0,o.z)({authorization:P[0]}).catch(()=>{throw new i.G("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(S?.type==="json-rpc"||null===S){let t;null!==g&&(t=await (0,h.s)(e,m.L,"getChainId")({}),f&&(0,s.q)({currentChainId:t,chain:g}));let r=e.chain?.formatters?.transactionRequest?.format,a=(r||d.tG)({...(0,l.K)(I,{format:r}),accessList:v,account:S,authorizationList:P,blobs:x,chainId:t,data:F?(0,c.zo)([F,T??"0x"]):F,gas:C,gasPrice:G,maxFeePerBlobGas:k,maxFeePerGas:R,maxPriorityFeePerGas:M,nonce:E,to:n,type:N,value:B},"sendTransaction"),i=b.get(e.uid);try{return await e.request({method:i?"wallet_sendTransaction":"eth_sendTransaction",params:[a]},{retryCount:0})}catch(t){if(!1===i)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[a]},{retryCount:0}).then(t=>(b.set(e.uid,!0),t)).catch(n=>{if("MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)throw b.set(e.uid,!1),t;throw n});throw t}}if(S?.type==="local"){let t=await (0,h.s)(e,w.ZE,"prepareTransactionRequest")({account:S,accessList:v,authorizationList:P,blobs:x,chain:g,data:F?(0,c.zo)([F,T??"0x"]):F,gas:C,gasPrice:G,maxFeePerBlobGas:k,maxFeePerGas:R,maxPriorityFeePerGas:M,nonce:E,nonceManager:S.nonceManager,parameters:[...w.QZ,"sidecars"],type:N,value:B,...I,to:n}),r=g?.serializers?.transaction,a=await S.signTransaction(t,{serializer:r});return await (0,h.s)(e,y.p,"sendRawTransaction")({serializedTransaction:a})}if(S?.type==="smart")throw new a.Y({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new a.Y({docsPath:"/docs/actions/wallet/sendTransaction",type:S?.type})}catch(e){if(e instanceof a.Y)throw e;throw(0,u.$)(e,{...t,account:S,chain:t.chain||void 0})}}},50825:function(e,t,n){n.d(t,{n:function(){return u}});var r=n(19775),a=n(65704),i=n(17283),o=n(34180),s=n(82645),c=n(41709);async function u(e,t){return u.internal(e,c.T,"sendTransaction",t)}!function(e){async function t(e,t,n,c){let{abi:u,account:l=e.account,address:d,args:h,functionName:f,...p}=c;if(void 0===l)throw new a.o({docsPath:"/docs/contract/writeContract"});let m=l?(0,r.T)(l):null,w=(0,i.R)({abi:u,args:h,functionName:f});try{return await (0,s.s)(e,t,n)({data:w,to:d,account:m,...p})}catch(e){throw(0,o.S)(e,{abi:u,address:d,args:h,docsPath:"/docs/contract/writeContract",functionName:f,sender:m?.address})}}e.internal=t}(u||(u={}))},82538:function(e,t,n){n.d(t,{e:function(){return i}});var r=n(19775),a=n(78217);function i(e){let{batch:t,chain:n,ccipRead:i,dataSuffix:o,key:s="base",name:c="Base Client",type:u="base"}=e,l=e.experimental_blockTag??("number"==typeof n?.experimental_preconfirmationTime?"pending":void 0),d=n?.blockTime??12e3,h=e.pollingInterval??Math.min(Math.max(Math.floor(d/2),500),4e3),f=e.cacheTime??h,p=e.account?(0,r.T)(e.account):void 0,{config:m,request:w,value:y}=e.transport({account:p,chain:n,pollingInterval:h}),b={account:p,batch:t,cacheTime:f,ccipRead:i,chain:n,dataSuffix:o,key:s,name:c,pollingInterval:h,request:w,transport:{...m,...y},type:u,uid:(0,a.h)(),...l?{experimental_blockTag:l}:{}};return Object.assign(b,{extend:function e(t){return n=>{let r=n(t);for(let e in b)delete r[e];let a={...t,...r};return Object.assign(a,{extend:e(a)})}}(b)})}},24250:function(e,t,n){n.d(t,{q:function(){return d}});var r=n(81544),a=n(17057),i=n(77014),o=n(59455);let s=new(n(82061)).k(8192);var c=n(49287),u=n(31853),l=n(78217);function d({key:e,methods:t,name:n,request:d,retryCount:h=3,retryDelay:f=150,timeout:p,type:m},w){return{config:{key:e,methods:t,name:n,request:d,retryCount:h,retryDelay:f,timeout:p,type:m},request:function(e,t={}){return async(n,l={})=>{let{dedupe:d=!1,methods:h,retryDelay:f=150,retryCount:p=3,uid:m}={...t,...l},{method:w}=n;if(h?.exclude?.includes(w)||h?.include&&!h.include.includes(w))throw new i.gS(Error("method not supported"),{method:w});let y=d?(0,o.$G)(`${m}.${(0,u.P)(n)}`):void 0;return function(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(s.get(n))return s.get(n);let r=e().finally(()=>s.delete(n));return s.set(n,r),r}(()=>(0,c.J)(async()=>{try{return await e(n)}catch(e){switch(e.code){case i.s7.code:throw new i.s7(e);case i.B.code:throw new i.B(e);case i.LX.code:throw new i.LX(e,{method:n.method});case i.nY.code:throw new i.nY(e);case i.XS.code:throw new i.XS(e);case i.yR.code:throw new i.yR(e);case i.Og.code:throw new i.Og(e);case i.pT.code:throw new i.pT(e);case i.KB.code:throw new i.KB(e);case i.gS.code:throw new i.gS(e,{method:n.method});case i.Pv.code:throw new i.Pv(e);case i.GD.code:throw new i.GD(e);case i.ab.code:throw new i.ab(e);case i.PE.code:throw new i.PE(e);case i.Ts.code:throw new i.Ts(e);case i.u5.code:throw new i.u5(e);case i.I0.code:throw new i.I0(e);case i.x3.code:throw new i.x3(e);case i.vl.code:throw new i.vl(e);case i.Uu.code:throw new i.Uu(e);case i.Nt.code:throw new i.Nt(e);case i.EJ.code:throw new i.EJ(e);case i.fl.code:throw new i.fl(e);case i.NO.code:throw new i.NO(e);case i.r0.code:throw new i.r0(e);case 5e3:throw new i.ab(e);case i.UF.code:throw new i.UF(e);default:if(e instanceof r.G)throw e;throw new i.ir(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof a.Gg){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e,10)}return~~(1<<e)*f},retryCount:p,shouldRetry:({error:e})=>"code"in e&&"number"==typeof e.code?-1===e.code||e.code===i.Pv.code||e.code===i.XS.code:!(e instanceof a.Gg)||!e.status||403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status}),{enabled:d,id:y})}}(d,{methods:t,retryCount:h,retryDelay:f,uid:(0,l.h)()}),value:w}}},65704:function(e,t,n){n.d(t,{Y:function(){return i},o:function(){return a}});var r=n(81544);class a extends r.G{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class i extends r.G{constructor({docsPath:e,metaMessages:t,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}},12197:function(e,t,n){n.d(t,{f:function(){return a}});var r=n(81544);class a extends r.G{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}},4496:function(e,t,n){n.d(t,{Fz:function(){return i},e5:function(){return o},ld:function(){return s}});var r=n(29707),a=n(81544);class i extends a.G{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class o extends a.G{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class s extends a.G{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,r.o)(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}},29217:function(e,t,n){n.d(t,{t:function(){return c}});var r=n(89256),a=n(44659),i=n(59455),o=n(70044),s=n(13169);function c(e){let{chainId:t,nonce:n,to:c}=e,u=e.contractAddress??e.address,l=(0,s.w)((0,r.SM)(["0x05",(0,o.LV)([t?(0,i.eC)(t):"0x",u,n?(0,i.eC)(n):"0x"])]));return"bytes"===c?(0,a.nr)(l):l}},63936:function(e,t,n){n.d(t,{z:function(){return i}});var r=n(95267),a=n(29217);async function i(e){let{authorization:t,signature:n}=e;return(0,r.R)({hash:(0,a.t)(t),signature:n??t})}},40402:function(e,t,n){n.d(t,{q:function(){return a}});var r=n(35586);function a({chain:e,currentChainId:t}){if(!e)throw new r.Bk;if(t!==e.id)throw new r.Yl({chain:e,currentChainId:t})}},93606:function(e,t,n){n.d(t,{$:function(){return o}});var r=n(78125),a=n(63228),i=n(18856);function o(e,{docsPath:t,...n}){let o=(()=>{let t=(0,i.k)(e,n);return t instanceof r.cj?e:t})();return new a.mk(o,{docsPath:t,...n})}},36478:function(e,t,n){n.d(t,{N7:function(){return o}});let r=new Map,a=new Map,i=0;function o(e,t,n){let o=++i,s=()=>r.get(e)||[],c=()=>{let t=s();r.set(e,t.filter(e=>e.id!==o))},u=()=>{let t=s();if(!t.some(e=>e.id===o))return;let n=a.get(e);if(1===t.length&&n){let e=n();e instanceof Promise&&e.catch(()=>{})}c()},l=s();if(r.set(e,[...l,{id:o,fns:t}]),l&&l.length>0)return u;let d={};for(let e in t)d[e]=(...t)=>{let n=s();if(0!==n.length)for(let r of n)r.fns[e]?.(...t)};let h=n(d);return"function"==typeof h&&a.set(e,h),u}},41495:function(e,t,n){n.d(t,{$:function(){return a}});var r=n(33457);function a(e,{emitOnBegin:t,initialWaitTime:n,interval:a}){let i=!0,o=()=>i=!1;return(async()=>{let s;t&&(s=await e({unpoll:o}));let c=await n?.(s)??a;await (0,r.D)(c);let u=async()=>{i&&(await e({unpoll:o}),await (0,r.D)(a),u())};u()})(),o}},49287:function(e,t,n){n.d(t,{J:function(){return a}});var r=n(33457);function a(e,{delay:t=100,retryCount:n=2,shouldRetry:a=()=>!0}={}){return new Promise((i,o)=>{let s=async({count:c=0}={})=>{let u=async({error:e})=>{let n="function"==typeof t?t({count:c,error:e}):t;n&&await (0,r.D)(n),s({count:c+1})};try{let t=await e();i(t)}catch(e){if(c<n&&await a({count:c,error:e}))return u({error:e});o(e)}};s()})}},95267:function(e,t,n){n.d(t,{R:function(){return l}});var r=n(32449),a=n(93610),i=n(20556),o=n(72932),s=n(59455);async function c({hash:e,signature:t}){let r=(0,a.v)(e)?e:(0,s.NC)(e),{secp256k1:c}=await n.e(9345).then(n.bind(n,99345)),l=(()=>{if("object"==typeof t&&"r"in t&&"s"in t){let{r:e,s:n,v:r,yParity:a}=t,i=u(Number(a??r));return new c.Signature((0,o.y_)(e),(0,o.y_)(n)).addRecoveryBit(i)}let e=(0,a.v)(t)?t:(0,s.NC)(t);if(65!==(0,i.d)(e))throw Error("invalid signature length");let n=u((0,o.ly)(`0x${e.slice(130)}`));return c.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(n)})().recoverPublicKey(r.substring(2)).toHex(!1);return`0x${l}`}function u(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function l({hash:e,signature:t}){return(0,r.y)(await c({hash:e,signature:t}))}},78217:function(e,t,n){let r;n.d(t,{h:function(){return i}});let a=256;function i(e=11){if(!r||a+e>512){r="",a=0;for(let e=0;e<256;e++)r+=(256+256*Math.random()|0).toString(16).substring(1)}return r.substring(a,a+++e)}},33457:function(e,t,n){n.d(t,{D:function(){return r}});async function r(e){return new Promise(t=>setTimeout(t,e))}}}]);